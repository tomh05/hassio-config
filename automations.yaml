# Start the bedtime script when it becomes night.
- id: '1545851949438'
  alias: Bedtime
  trigger:
  - entity_id: sensor.day_phase
    platform: state
    to: Night
  condition: []
  action:
  - service: script.turn_on
    entity_id: script.bedtime
# Wake up routine
- id: '3545251949432'
  alias: Workday Morning Energise
  trigger:
  - entity_id: sensor.day_phase
    platform: state
    from: Night
    to: Morning
  action:
  - service: script.turn_on
  entity_id: script.wakeup
  # put on the living room
  - service: light.turn_on
    entity_id: light.living_room
    data:
      brightness_pct: 100
      kelvin: 6500
      transition: 60
- id: '3545251949409'
  alias: Lights off during daytime
  trigger:
  - entity_id: sensor.day_phase
    platform: state
    from: Morning
    to: Day
  condition:
    condition: state
    entity_id: 'binary_sensor.daylight'
    state: 'on'
  action:
  - service: light.turn_off
    entity_id: light.bedroom
    data:
      transition: 120
  - service: light.turn_off
    entity_id: light.living_room
    data:
      transition: 120
- id: '2545251249409'
  alias: Switch off heating at night
  trigger:
  - entity_id: sensor.day_phase
    platform: state
    from: Evening
    to: Night
  action:
  - service: climate.set_temperature
    entity_id: climate.living_room
    data:
        temperature: 15
- id: '2545251149209'
  alias: Switch on hallway in evening
  trigger:
  - entity_id: sensor.day_phase
    platform: state
    from: Day
    to: Evening
  action:
  - service: light.turn_on
    entity_id:
    - light.hallway
    data:
        brightness: 100
- id: '2545211239409'
  alias: Switch on heating in morning
  trigger:
  - entity_id: sensor.day_phase
    platform: state
    from: Night
    to: Morning
  action:
  - service: climate.set_temperature
    entity_id: climate.living_room
    data:
        temperature: 20
- id: '1557251710350'
  alias: Arrive at work
  trigger:
  - platform: zone
    entity_id: device_tracker.tom_th
    zone: zone.work
    event: enter  # or "leave"
  condition:
  - after: '07:00:00'
    before: '11:00:00'
    condition: time
  action:
  - event: ARRIVED_AT_WORK
    event_data: {}
- id: '1557260814256'
  alias: Leave Work Alarm
  trigger:
  - at: 09:30:00
    platform: time
  condition:
  - condition: zone
    entity_id: device_tracker.tom_th
    zone: zone.home
  - condition: state
    entity_id: binary_sensor.workday_sensor
    state: 'on'
  action:
  - service: light.turn_on
    data:
      entity_id: light.living_room
      flash: long
- id: '1557233314252'
  alias: Fish Tank On in morning
  trigger:
  - at: '08:30:00'
    platform: time
  action:
  - service: switch.turn_on
    data:
      entity_id: switch.fish_tank
- id: '1557233314237'
  alias: Fish Tank Off at night
  trigger:
  - at: '22:00:00'
    platform: time
  action:
  - service: switch.turn_off
    data:
      entity_id: switch.fish_tank
